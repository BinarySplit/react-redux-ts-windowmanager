@import "Palette.less";

@border-width: 3px;
@border-stripe: @color-primary-3 1px, @color-primary-0 1px, @color-primary-0 2px, @color-primary-3 2px;
@border-t: linear-gradient(to bottom, @border-stripe);
@border-r: linear-gradient(to left, @border-stripe);
@border-b: linear-gradient(to top, @border-stripe);
@border-l: linear-gradient(to right, @border-stripe);

.wm-window {
  min-height: 32px;
  max-height: 100%;
  background: @color-primary-1;
  transform: translateZ(0);
  contain: layout paint;
  border-spacing: 0;
  display: flex;

  &-col {display: flex; flex-direction: column;}

  &-top {background-image: @border-t;cursor:ns-resize;}
  &-right {background-image: @border-r;cursor:ew-resize;}
  &-bottom {background-image: @border-b;cursor:ns-resize;}
  &-left {background-image: @border-l;cursor:ew-resize;}

  &-left>&-top {background-image: @border-t, @border-l;cursor:nwse-resize;}
  &-right>&-top {background-image: @border-t, @border-r;cursor:nesw-resize;}
  &-right>&-bottom {background-image: @border-b, @border-r;cursor:nwse-resize;}
  &-left>&-bottom {background-image: @border-b, @border-l;cursor:nesw-resize;}

  //Columns
  &-left, &-right {
    flex: 0 0 @border-width;
    width: @border-width;
    min-width: @border-width;
    max-width: @border-width;
  }
  &-center {
    flex: 1 1 auto;
    position: relative;
    min-width: 0; //Needed because of http://stackoverflow.com/a/12131365
  }

  //Cells
  &-top, &-bottom {
    flex: 0 0 @border-width;
    height: @border-width;
    min-height: @border-width;
    max-height: @border-width;
  }
  &-middle {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
  }

  &-titlebar {
    flex: 0 0 20px;
    height: 20px;
    display: flex;
  }
  &-title {
    flex: 1 1 auto;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    cursor: move;
    -webkit-user-select: none;
    user-select: none;
  }
  &-buttons {
    flex: 0 0 auto;
  }

  &-button-minimize,
  &-button-maximize,
  &-button-close {
    display: inline-block;
    width: 16px;
    height: 16px;
    vertical-align: top;
    text-align: center;
    margin: 2px;
    background: @color-secondary-1-4;
    color: @color-primary-0;
    font-size: 12px;
    line-height: 16px;
    cursor: pointer;
    -webkit-user-select: none;
    user-select: none;
  }

  &-button-minimize:before {
    content: '_';
  }
  &-button-maximize:before {
    content: '^';
  }
  &-button-close:before {
    content: 'x';
  }

  &-content {
    flex: 1 1 auto;
    width: 100%;
    height: 100%;
    background-color: @color-secondary-1-1;
    overflow: auto;
    user-select: contain;
  }

}

::-webkit-scrollbar {
  width: 16px;
  height: 16px;
  background-color: @color-primary-0;
}

@button-bg: @color-primary-1;
@button-fg: @color-primary-3;
::-webkit-scrollbar-button:end:increment,
::-webkit-scrollbar-button:start:decrement {
  display: block;
  background-color: @button-bg;
  width: 16px;
  height: 16px;
}
::-webkit-scrollbar-button:start:increment,
::-webkit-scrollbar-button:end:decrement {
  display: none;
}
::-webkit-scrollbar-corner {
  background-image:
          linear-gradient(45deg, @button-fg 8px, transparent 8px),
          linear-gradient(135deg, @button-fg 8px, transparent 8px),
          linear-gradient(225deg, @button-fg 8px, transparent 8px),
          linear-gradient(315deg, @button-fg 8px, transparent 8px),
          linear-gradient(0deg, @button-bg 0, @button-bg 0);
}

::-webkit-scrollbar-button:vertical:increment {
  background-image:
          linear-gradient(45deg, @button-bg 8px, transparent 8px),
          linear-gradient(315deg, @button-bg 8px, transparent 8px),
          linear-gradient(to top, @button-fg 10px, @button-bg 10px);
}
::-webkit-scrollbar-button:vertical:decrement {
  background-image:
          linear-gradient(135deg, @button-bg 8px, transparent 8px),
          linear-gradient(225deg, @button-bg 8px, transparent 8px),
          linear-gradient(to bottom, @button-fg 10px, @button-bg 10px);
}
::-webkit-scrollbar-button:horizontal:increment {
  background-image:
          linear-gradient(225deg, @button-bg 8px, transparent 8px),
          linear-gradient(315deg, @button-bg 8px, transparent 8px),
          linear-gradient(to left, @button-fg 10px, @button-bg 10px);
}
::-webkit-scrollbar-button:horizontal:decrement {
  background-image:
          linear-gradient(45deg, @button-bg 8px, transparent 8px),
          linear-gradient(135deg, @button-bg 8px, transparent 8px),
          linear-gradient(to right, @button-fg 10px, @button-bg 10px);
}

::-webkit-scrollbar-track-piece:start {
  background-color: @color-primary-2;
}

::-webkit-scrollbar-track-piece:end {
  background-color: @color-primary-2;
}

::-webkit-scrollbar-thumb {
  background-color: @color-primary-3;
}